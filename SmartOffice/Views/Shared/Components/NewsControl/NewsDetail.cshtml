
@model SmartOffice.Models.ViewModel.ViewNewsTable
@{
    ViewData["Title"] = "News";
}
<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" href="~/digilab/images/logo.gif">
    <title>AdmSOffice</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">  
    <link href="~/Asset/LTE/dist/css/AdminLTE.css" rel="stylesheet" />
    <script src="~/Asset/LTE/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="~/Asset/LTE/bower_components/jquery/dist/jquery.min.js"></script>
    <!------ Include the above in your HEAD tag ---------->
<link href="~/Asset/LTE/dist/css/AdminLTE.css" rel="stylesheet" />  
<link href="~/css/fontawesome-free-5.8.1-web/css/all.min.css" rel="stylesheet" />
<style type="text/css">
   img{width:100%;}
   .file-box {
  float: left;
  width: 270px;
}
.file-manager h5 {
  text-transform: uppercase;
}
.file-manager {
  list-style: none outside none;
  margin: 0;
  padding: 0;
}
.folder-list li a {
  color: #666666;
  display: block;
  padding: 5px 0;
}
.folder-list li {
  border-bottom: 1px solid #e7eaec;
  display: block;
}
.folder-list li i {
  margin-right: 8px;
  color: #3d4d5d;
}
.category-list li a {
  color: #666666;
  display: block;
  padding: 5px 0;
}
.category-list li {
  display: block;
}
.category-list li i {
  margin-right: 8px;
  color: #3d4d5d;
}
.category-list li a .text-navy {
  color: #1ab394;
}
.category-list li a .text-primary {
  color: #1c84c6;
}
.category-list li a .text-info {
  color: #23c6c8;
}
.category-list li a .text-danger {
  color: #EF5352;
}
.category-list li a .text-warning {
  color: #F8AC59;
}
.file-manager h5.tag-title {
  margin-top: 20px;
}
.tag-list li {
  float: left;
}
.tag-list li a {
  font-size: 10px;
  background-color: #f3f3f4;
  padding: 5px 12px;
  color: inherit;
  border-radius: 2px;
  border: 1px solid #e7eaec;
  margin-right: 5px;
  margin-top: 5px;
  display: block;
}
.file {
  border: 1px solid #e7eaec;
  padding: 0;
  background-color: #ffffff;
  position: relative;
  margin-bottom: 20px;
  margin-right: 20px;
}
.file-manager .hr-line-dashed {
  margin: 15px 0;
}
.file .icon,
.file .image {
  height: 100px;
  overflow: hidden;
}
.file .icon {
  padding: 15px 10px;
  text-align: center;
}
.file-control {
  color: inherit;
  font-size: 11px;
  margin-right: 10px;
}
.file-control.active {
  text-decoration: underline;
}
.file .icon i {
  font-size: 70px;
  color: #dadada;
}
.file .file-name {
  padding: 10px;
  background-color: #f8f8f8;
  border-top: 1px solid #e7eaec;
}
.file-name small {
  color: #676a6c;
}
ul.tag-list li {
  list-style: none;
}
.corner {
  position: absolute;
  display: inline-block;
  width: 0;
  height: 0;
  line-height: 0;
  border: 0.6em solid transparent;
  border-right: 0.6em solid #f1f1f1;
  border-bottom: 0.6em solid #f1f1f1;
  right: 0em;
  bottom: 0em;
}
a.compose-mail {
  padding: 8px 10px;
}
.mail-search {
  max-width: 300px;
}
.ibox {
  clear: both;
  margin-bottom: 25px;
  margin-top: 0;
  padding: 0;
}
.ibox.collapsed .ibox-content {
  display: none;
}
.ibox.collapsed .fa.fa-chevron-up:before {
  content: "\f078";
}
.ibox.collapsed .fa.fa-chevron-down:before {
  content: "\f077";
}
.ibox:after,
.ibox:before {
  display: table;
}
.ibox-title {
  -moz-border-bottom-colors: none;
  -moz-border-left-colors: none;
  -moz-border-right-colors: none;
  -moz-border-top-colors: none;
  background-color: #ffffff;
  border-color: #e7eaec;
  border-image: none;
  border-style: solid solid none;
  border-width: 3px 0 0;
  color: inherit;
  margin-bottom: 0;
  padding: 14px 15px 7px;
  min-height: 48px;
}
.ibox-content {
  background-color: #ffffff;
  color: inherit;
  padding: 15px 20px 20px 20px;
  border-color: #e7eaec;
  border-image: none;
  border-style: solid solid none;
  border-width: 1px 0;
}
.ibox-footer {
  color: inherit;
  border-top: 1px solid #e7eaec;
  font-size: 90%;
  background: #ffffff;
  padding: 10px 15px;
}
a:hover{
text-decoration:none;    
}
                          
</style>
</head>
<body >
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="row mb-2">
                    <div class="col-md-12">
                        <div class="card">
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="news-title">
                                            <h2>@Model.Title1</h2>
                                        </div>
                                        <div class="news-cats">
                                            <ul class="list-unstyled list-inline mb-1">
                                                <li class="list-inline-item">
                                                    <i class="fas fa-folder text-danger"></i>
                                                    <a href="#"><small>@Model.UpdateDate</small></a>                                                    
                                                    <p style="color:black"><i class="fas fa-eye"></i> <small>@Model.CountRead  Views</small></p>
                                                </li>
                                            </ul>
                                        </div>
                                        <hr>
                                        <div class="news-image">
                                            @if (Model.ItemType == "video")
                                            {
                                                <div class="video-frame">
                                                    <video style="width:100%; height:auto;" controls>
                                                        <source src="@Url.Content(Model.imagePath)" />
                                                    </video>
                                                </div>
                                            }
                                            else if (Model.ItemType == "image")
                                            {
                                                <img src="@Url.Content(Model.imagePath)">
                                            }
                                            else if (Model.ItemType == "document")
                                            {
                                                <div class="file">
                                                    <a href="@Url.Content(Model.imagePath)">
                                                        <span class="corner"></span>

                                                        <div class="icon">
                                                            <i class="fa fa-file" style="font-size:100px; color:darkgrey"></i>
                                                        </div>
                                                        <div class="file-name">
                                                            @Model.Value1
                                                        </div>
                                                    </a>
                                                </div>
                                            }
                                        </div>
                                        <div class="news-content">
                                            @Html.Raw(Model.Title2)
                                            <br>
                                            @{
                                                if (Model.NnewsDetail.Count() > 10)
                                                {
                                                    <div class="container main-section pt-20">
                                                        <div class="row">
                                                            <div class="col-lg-12 col-sm-12 col-12">
                                                                <div class="row">
                                                                    <div class="col-lg-4 col-12 bg-white tab-head">
                                                                        <ul class="nav nav-tabs" id="myTab" role="tablist">
                                                                            <li class="nav-item">
                                                                                <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="true"><i class="fa fa-file" aria-hidden="true"></i> File</a>
                                                                            </li>

                                                                        </ul>
                                                                    </div>
                                                                    <div class="col-lg-12 main-tab">
                                                                        <div class="tab-content" id="myTabContent">
                                                                            <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
                                                                                <div class="row m-0">
                                                                                    <div class="col-lg-4 document bg-white pt-3" style="height:100%;max-height:100vh;overflow:auto">
                                                                                        <h5 class="pt-2 m-0"><strong>File Name</strong></h5>
                                                                                        @foreach (var item in Model.NnewsDetail.Reverse().OrderBy(i=>i.ItemType).ThenBy(x=>x.Value1))
                                                                                        {

                                                                                            if (item.ItemType == "document")
                                                                                            {
                                                                                                <p class="pt-2 m-0" style="cursor: pointer;" onclick="ChangePdf('@item.Value')"><i class="fas fa-file-alt pl-2 text-secondary pr-1" aria-hidden="true"></i>@item.Value1</p>
                                                                                                <hr />
                                                                                            }
                                                                                        }
                                                                                    </div>
                                                                                    <div class="col-lg-8 document-left-list">
                                                                                        <div class="bg-white document-left-list-second p-3">
                                                                                            <div class="row">
                                                                                                <div class="col-lg-12 ">
                                                                                                    <embed id="ifpdfdynamic" style="width:100%;height:100%;min-height:1200px" allowfullscreen="true" name="plugin" src="@Url.Content(Model.NnewsDetail.Reverse().FirstOrDefault().Value)#view=FitV" type="application/pdf" />
                                                                                                    @*<iframe src="@Url.Content(Model.NnewsDetail.Reverse().FirstOrDefault().Value)#view=FitV" id="ifpdfdynamic" style="width:100%; height:100vh;" frameborder="0"></iframe>*@
                                                                                                </div>
                                                                                            </div>

                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>

                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                }
                                                else
                                                {
                                                    @foreach (var item in Model.NnewsDetail.Reverse().OrderBy(i => i.ItemType).ThenBy(x => x.Value1))
                                                    {

                                                        if (item.ItemType == "document")
                                                        {
                                                            //var imgpath = "~/image/" + @Model.GroupCateg + "/News/" + @item.Value;
                                                            <iframe src="@Url.Content(item.Value)#view=FitV" style="width:100%; height:100vh;" frameborder="0"></iframe>
                                                        }
                                                    }
                                                }
                                            }

                                        </div>
                                        <hr>
                                    </div>
                                </div>
                                @if (Model.NnewsDetail.Count() > 1)
                                {
                                    <span><i class="far fa-file-image"></i>ไฟล์ที่เกี่ยวข้อง</span>

                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="row">
                                                <div class="col-lg-12">
                                                    @foreach (var item in Model.NnewsDetail.OrderBy(i => i.ItemType).ThenBy(x => x.Value1))
                                                    {

                                                        if (item.ItemType == "image")
                                                        {

                                                            <div class="file-box">
                                                                <div class="file">
                                                                    <a href="@Url.Content(item.Value)">
                                                                        <span class="corner"></span>
                                                                        <div class="image">
                                                                            <img alt="image" class="img-responsive" src="@Url.Content(item.Value)">
                                                                        </div>
                                                                        <div class="file-name">
                                                                            @item.Value1
                                                                        </div>
                                                                    </a>
                                                                </div>
                                                            </div>

                                                        }
                                                        else if (item.ItemType == "video")
                                                        {
                                           
                                                            <div class="file-box">
                                                                <div class="file">
                                                                    <a href="@Url.Content(item.Value)">
                                                                        <span class="corner"></span>
                                                                        <div class="video-frame">
                                                                            <video style="width:100%; height:auto;" controls>
                                                                                <source src="@Url.Content(item.Value)" />
                                                                            </video>
                                                                        </div>
                                                                        <div class="file-name">
                                                                            @item.Value1
                                                                        </div>
                                                                    </a>
                                                                </div>
                                                            </div>
                                                        }
                                                        else if (item.ItemType == "document")
                                                        {
                                                         
                                                            <div class="file-box">
                                                                <div class="file">
                                                                    <a href="@Url.Content(item.Value)">
                                                                        <span class="corner"></span>

                                                                        <div class="icon">
                                                                            <i class="fa fa-file"></i>
                                                                        </div>
                                                                        <div class="file-name">
                                                                            @item.Value1
                                                                        </div>
                                                                    </a>
                                                                </div>
                                                            </div>
                                                        }
                                                    }
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

</html>
<script type="text/javascript">
    function ChangePdf(pdfpath) {
         var ROOT = '@Url.Content("~")';
        $("#ifpdfdynamic").attr("src", ROOT + pdfpath.replace('~', ''));
    }

</script>
